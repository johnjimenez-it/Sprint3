<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Green Screen Kiosk</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="kiosk-body is-welcome-screen">
  <div class="ambient-backdrop" aria-hidden="true"></div>
  <main id="app" class="kiosk-shell">
    <header class="app-header">
      <div class="brand-block">
        <div class="brand-icon" aria-hidden="true">
          <span class="brand-icon-ring"></span>
          <span class="brand-icon-core"></span>
        </div>
        <div class="brand-copy">
          <p class="brand-overline">FSU Photo Lab</p>
          <h1 class="brand-title">Green Screen Studio</h1>
          <p class="brand-tagline">Strike a pose, share the vibe.</p>
        </div>
      </div>
      <div class="session-info">
        <div class="session-pill">
          <span class="pill-label">Running total</span>
          <div class="running-total" id="running-total" aria-live="polite"></div>
        </div>
      </div>
    </header>

    <div class="progress-wrapper">
      <h2 class="sr-only">Photo experience progress</h2>
      <nav id="progress-indicator" class="progress-indicator" aria-label="Photo experience progress"></nav>
    </div>

    <div class="screen-stack">
      <section
      id="screen-welcome"
      class="screen active"
      role="button"
      tabindex="0"
      aria-label="Tap anywhere to begin the kiosk flow"
    >
        <div class="welcome-hero">
          <div class="welcome-copy">
            <h2>Step into the green screen studio</h2>
            <p class="welcome-instruction" id="welcome-instruction" aria-hidden="true">Tap anywhere to begin</p>
          </div>
          <div class="welcome-graphic" aria-hidden="true">
            <span class="graphic-ring"></span>
            <span class="graphic-subject"></span>
          </div>
        </div>
        <div class="info-card">
          <h3>Today's Event</h3>
          <p id="event-name"></p>
          <p class="subtitle" id="eventTagline"></p>
          <p id="price-info"></p>
        </div>
      </section>

      <section id="screen-background" class="screen">
        <div class="screen-header">
          <h2>Select a background</h2>
          <p class="instruction">Choose a scene or add your own to match the green screen.</p>
        </div>
        <div class="background-layout">
          <div class="background-column">
            <div class="addon-card" aria-live="polite">
              <h3>Need multiple backgrounds?</h3>
              <p class="instruction" id="multi-background-note">Add a second background setup for an additional fee.</p>
              <button class="secondary" id="multi-background-toggle" type="button" aria-pressed="false">Add Multi-Background Package (+$10)</button>
            </div>
            <div id="background-grid" class="background-grid" role="group" aria-label="Background choices"></div>
            <div class="preview-card">
              <h3>Preview</h3>
              <div id="background-preview" class="background-preview" aria-live="polite">
                <div class="preview-slot" data-slot="0">Choose a background</div>
                <div class="preview-slot secondary" data-slot="1">Turn on Multi-Background to add another scene</div>
              </div>
            </div>
          </div>
          <aside class="custom-background-panel" aria-label="Custom background tools">
            <h3>Bring your FSU spirit</h3>
            <p class="instruction">Pick a campus classic or upload your own scene.</p>
            <button class="secondary" id="custom-background-help" title="Tips for adding your own background">How to add my own background</button>
            <div id="custom-background-modal" class="modal hidden" role="dialog" aria-modal="true">
              <div class="modal-content">
                <h3>Custom Background Instructions</h3>
                <ol>
                  <li>Tap "Upload" and select your image from a USB drive.</li>
                  <li>Use an image that celebrates Garnet &amp; Gold or your favorite landmark.</li>
                  <li>Center your group to match the on-screen guide.</li>
                  <li>Tap "Use Background" to confirm.</li>
                </ol>
                <button class="primary" id="modal-close">Got it!</button>
              </div>
            </div>
            <div class="upload-card">
              <label class="file-picker">
                <span>Upload your photo</span>
                <input type="file" id="custom-background-input" accept="image/*" />
              </label>
              <button class="primary" id="custom-background-use" disabled title="Use your uploaded background">Use Background</button>
            </div>
          </aside>
        </div>
        <div class="nav-buttons">
          <button class="secondary" data-prev>Back</button>
          <button class="primary" data-next>Next</button>
        </div>
      </section>

      <section id="screen-party" class="screen">
        <div class="screen-header">
          <h2>Party details</h2>
          <p class="instruction">We’ll personalize your prints and delivery with this info.</p>
        </div>
        <div class="form-grid">
          <label class="touch-field" data-keyboard-target="party-name">
            <span>Party Name</span>
            <input id="party-name" type="text" maxlength="50" autocomplete="off" readonly />
          </label>
          <label>
            <span>How many people?</span>
            <div class="touch-selector" id="people-count"></div>
          </label>
        </div>
        <div class="nav-buttons">
          <button class="secondary" data-prev>Back</button>
          <button class="primary" data-next>Next</button>
        </div>
      </section>

      <section id="screen-selfie" class="screen">
        <div class="screen-header">
          <h2>Quick selfie (optional)</h2>
          <p class="instruction">Capture a fast preview photo to remember who stopped by.</p>
        </div>
        <div class="selfie-card">
          <video id="selfie-video" autoplay playsinline></video>
          <canvas id="selfie-canvas" class="hidden"></canvas>
          <div class="selfie-actions">
            <button class="secondary" id="selfie-start" title="Enable the built-in camera">Enable Camera</button>
            <button class="primary" id="selfie-capture" disabled title="Capture a quick selfie">Take Snapshot</button>
            <button class="secondary" id="selfie-retake" disabled title="Retake the selfie">Retake</button>
          </div>
        </div>
        <div class="nav-buttons">
          <button class="secondary" data-prev>Back</button>
          <button class="primary" data-next>Next</button>
        </div>
      </section>

      <section id="screen-delivery" class="screen">
        <div class="screen-header">
          <h2>Delivery options</h2>
          <p class="instruction">Pick how you’d like to take your photos home.</p>
        </div>
        <div class="form-grid">
          <label>
            <span>Delivery Method</span>
            <div class="touch-selector" id="delivery-method"></div>
          </label>
          <label>
            <span>How many prints?</span>
            <div class="touch-selector" id="prints-count"></div>
          </label>
          <label>
            <span>Emails to send?</span>
            <div class="touch-selector" id="email-count"></div>
          </label>
        </div>
        <div id="emailInputs" class="email-container"></div>
        <div class="nav-buttons">
          <button class="secondary" data-prev>Back</button>
          <button class="primary" data-next>Next</button>
        </div>
      </section>

      <section id="screen-payment" class="screen">
        <div class="screen-header">
          <h2>Payment</h2>
          <p id="payment-note" class="instruction"></p>
        </div>
        <div class="touch-selector" id="payment-method"></div>
        <div class="nav-buttons">
          <button class="secondary" data-prev>Back</button>
          <button class="primary" data-next>Review</button>
        </div>
      </section>

      <section id="screen-review" class="screen">
        <div class="screen-header">
          <h2>Review your order</h2>
          <p class="instruction">Double-check the details before we send things to the printer.</p>
        </div>
        <div id="review-summary" class="summary-card"></div>
        <div class="nav-buttons">
          <button class="primary" id="confirm-btn" title="Review and confirm your order">Confirm &amp; Print Receipt</button>
          <button class="secondary" data-prev>Back</button>
        </div>
      </section>

      <section id="screen-receipt" class="screen">
        <div class="screen-header">
          <h2>Receipt</h2>
          <p class="instruction">Share this with the operator to collect your prints.</p>
        </div>
        <div class="receipt" id="receipt-output"></div>
        <div class="nav-buttons">
          <button class="primary" id="print-btn" title="Send both copies to the printer">Print Receipt</button>
          <button class="secondary" id="finish-btn" title="Restart the kiosk flow">Start Over</button>
        </div>
      </section>

      <section id="screen-keyboard" class="screen keyboard-screen">
        <h2>Tap letters to type</h2>
        <div id="keyboard-display" class="keyboard-display"></div>
        <div class="keyboard-keys" id="keyboard-keys"></div>
        <button class="primary" id="keyboard-done">Done</button>
        <button class="secondary" id="keyboard-clear">Clear</button>
      </section>
    </div>
  </main>

  <template id="background-option-template">
    <button class="background-option">
      <span class="label"></span>
    </button>
  </template>

  <template id="touch-option-template">
    <button class="touch-option"></button>
  </template>

  <div id="confirm-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="confirm-title">
    <div class="modal-content">
      <h3 id="confirm-title">Ready to print?</h3>
      <p>Double-check the details before printing. Continue when you are ready.</p>
      <div class="modal-actions">
        <button class="secondary" id="cancel-confirm">Cancel</button>
        <button class="primary" id="continue-confirm">Looks Good</button>
      </div>
    </div>
  </div>

  <div id="idle-modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="idle-title">
    <div class="modal-content idle-modal-content">
      <h3 id="idle-title">Are you still there?</h3>
      <p>We’ll return to the welcome screen in <span id="idle-countdown">10</span> seconds.</p>
      <div class="modal-actions">
        <button class="primary" id="idle-stay">I’m still here</button>
      </div>
    </div>
  </div>

  <script src="script.js" defer></script>
</body>
</html>
