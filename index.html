<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Green Screen Kiosk</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main id="app">
    <header class="app-header">
      <h1>Green Screen Express</h1>
      <p class="subtitle">Tap to begin your photo experience</p>
    </header>

    <section id="screen-welcome" class="screen active">
      <button class="primary" id="start-btn">Start</button>
      <div class="info-card">
        <h2>Today's Event</h2>
        <p id="event-name"></p>
        <p class="price" id="price-info"></p>
      </div>
    </section>

    <section id="screen-background" class="screen">
      <h2>Select a Background</h2>
      <div id="background-grid" class="background-grid" role="group" aria-label="Background choices"></div>
      <div class="preview-card">
        <h3>Preview</h3>
        <div id="background-preview" class="background-preview">Choose a background</div>
      </div>
      <div class="nav-buttons">
        <button class="secondary" data-prev>Back</button>
        <button class="primary" data-next>Next</button>
      </div>
    </section>

    <section id="screen-custom-background" class="screen">
      <h2>Custom Background?</h2>
      <p class="instruction">Need a custom photo? Tap below for tips.</p>
      <button class="secondary" id="custom-background-help">How to add my own background</button>
      <div id="custom-background-modal" class="modal hidden" role="dialog" aria-modal="true">
        <div class="modal-content">
          <h3>Custom Background Instructions</h3>
          <ol>
            <li>Tap "Upload" and select your image from a USB drive.</li>
            <li>Ensure the image is at least 1920x1080 for best results.</li>
            <li>Center your group to match the guide shown on screen.</li>
            <li>Tap "Use Background" to confirm.</li>
          </ol>
          <button class="primary" id="modal-close">Got it!</button>
        </div>
      </div>
      <div class="upload-card">
        <input type="file" id="custom-background-input" accept="image/*" />
        <button class="primary" id="custom-background-use" disabled>Use Background</button>
      </div>
      <div class="nav-buttons">
        <button class="secondary" data-prev>Back</button>
        <button class="primary" data-next>Next</button>
      </div>
    </section>

    <section id="screen-party" class="screen">
      <h2>Party Details</h2>
      <div class="form-grid">
        <label class="touch-field" data-keyboard-target="party-name">
          <span>Party Name</span>
          <input id="party-name" type="text" maxlength="50" autocomplete="off" readonly />
        </label>
        <label>
          <span>How many people?</span>
          <div class="touch-selector" id="people-count"></div>
        </label>
      </div>
      <div class="selfie-card">
        <h3>Quick Selfie (optional)</h3>
        <video id="selfie-video" autoplay playsinline></video>
        <canvas id="selfie-canvas" class="hidden"></canvas>
        <div class="selfie-actions">
          <button class="secondary" id="selfie-start">Enable Camera</button>
          <button class="primary" id="selfie-capture" disabled>Take Snapshot</button>
          <button class="secondary" id="selfie-retake" disabled>Retake</button>
        </div>
      </div>
      <div class="nav-buttons">
        <button class="secondary" data-prev>Back</button>
        <button class="primary" data-next>Next</button>
      </div>
    </section>

    <section id="screen-delivery" class="screen">
      <h2>Delivery Options</h2>
      <div class="form-grid">
        <label>
          <span>Delivery Method</span>
          <div class="touch-selector" id="delivery-method"></div>
        </label>
        <label>
          <span>How many prints?</span>
          <div class="touch-selector" id="prints-count"></div>
        </label>
        <label>
          <span>Emails to send?</span>
          <div class="touch-selector" id="email-count"></div>
        </label>
      </div>
      <div id="email-entry-container" class="email-container"></div>
      <div class="nav-buttons">
        <button class="secondary" data-prev>Back</button>
        <button class="primary" data-next>Next</button>
      </div>
    </section>

    <section id="screen-payment" class="screen">
      <h2>Payment</h2>
      <p id="payment-note" class="instruction"></p>
      <div class="touch-selector" id="payment-method"></div>
      <div class="nav-buttons">
        <button class="secondary" data-prev>Back</button>
        <button class="primary" data-next>Review</button>
      </div>
    </section>

    <section id="screen-review" class="screen">
      <h2>Review Your Order</h2>
      <div id="review-summary" class="summary-card"></div>
      <button class="primary" id="confirm-btn">Confirm &amp; Print Receipt</button>
      <button class="secondary" data-prev>Back</button>
    </section>

    <section id="screen-receipt" class="screen">
      <h2>Receipt</h2>
      <div class="receipt" id="receipt-output"></div>
      <button class="primary" id="print-btn">Print Receipt</button>
      <button class="secondary" id="finish-btn">Start Over</button>
    </section>

    <section id="screen-keyboard" class="screen keyboard-screen">
      <h2>Tap letters to type</h2>
      <div id="keyboard-display" class="keyboard-display"></div>
      <div class="keyboard-keys" id="keyboard-keys"></div>
      <button class="primary" id="keyboard-done">Done</button>
      <button class="secondary" id="keyboard-clear">Clear</button>
    </section>
  </main>

  <template id="background-option-template">
    <button class="background-option">
      <span class="label"></span>
    </button>
  </template>

  <template id="touch-option-template">
    <button class="touch-option"></button>
  </template>

  <script src="config.js"></script>
  <script src="script.js" type="module"></script>
</body>
</html>
